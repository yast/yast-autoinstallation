<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML
><HEAD
><TITLE
>&#13;	Software
      </TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.7"><LINK
REL="HOME"
TITLE="AutoYaST"
HREF="index.html"><LINK
REL="UP"
TITLE="Configuration and Installation Options"
HREF="configuration.html"><LINK
REL="PREVIOUS"
TITLE="
	Partitioning
      "
HREF="createprofile.partitioning.html"><LINK
REL="NEXT"
TITLE="
	Services and Run-levels
      "
HREF="createprofile.services.html"></HEAD
><BODY
CLASS="section"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><DIV
CLASS="NAVHEADER"
><TABLE
SUMMARY="Header navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TH
COLSPAN="3"
ALIGN="center"
>AutoYaST: Automatic Linux Installation and Configuration with
      YaST2</TH
></TR
><TR
><TD
WIDTH="10%"
ALIGN="left"
VALIGN="bottom"
><A
HREF="createprofile.partitioning.html"
ACCESSKEY="P"
>&#60;&#60;&#60; Previous</A
></TD
><TD
WIDTH="80%"
ALIGN="center"
VALIGN="bottom"
>Chapter 4. Configuration and Installation Options</TD
><TD
WIDTH="10%"
ALIGN="right"
VALIGN="bottom"
><A
HREF="createprofile.services.html"
ACCESSKEY="N"
>Next &#62;&#62;&#62;</A
></TD
></TR
></TABLE
><HR
ALIGN="LEFT"
WIDTH="100%"></DIV
><DIV
CLASS="section"
><H1
CLASS="section"
><A
NAME="CreateProfile.Software"
>4.5. Software</A
></H1
><DIV
CLASS="section"
><H2
CLASS="section"
><A
NAME="Software.Selections"
>4.5.1. Package Selections</A
></H2
><P
>	
	  You can install software on the new system using the following methods:
	</P
><P
></P
><UL
><LI
><P
>&#13;	      Use a pre-defined package base selection, i.e. Minimal, Minimal+X11,
	      default etc. in addition to several <I
CLASS="emphasis"
>Add-on</I
> selections. 
	      Check the first CD for available selections in
	      <TT
CLASS="filename"
>suse/setup/desc/selections</TT
>, depending on the
	      product you are installing, some well-known selections might not
	      be available.

	    </P
></LI
><LI
><P
>&#13;	      Custom package selection, i.e. package selection of an existing
	      system using the <B
CLASS="command"
>rpm</B
> command or similar tools.
	    </P
></LI
><LI
><P
>&#13;	      Additional local packages, i.e. external packages (non  <I
CLASS="emphasis"
>SuSE</I
>  packages) 
	      and packages for initial system setup and configuration.
	    </P
></LI
></UL
><P
>&#13;	  In the control file, packages and package selections are described as
	  the following:
	</P
><DIV
CLASS="example"
><A
NAME="AEN595"
></A
><P
><B
>Example 4-17. 
	    Package selection in control file
	  </B
></P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="screen"
>&#13;
....
&#60;software&#62;
   &#60;base&#62;Minimal&#60;/base&#62;
   &#60;addons  config:type="list"&#62;
        &#60;addon&#62;Kde&#60;/addon&#62;
   &#60;/addons&#62;
   &#60;packages  config:type="list"&#62;
        &#60;package&#62;apache&#60;/package&#62;
        &#60;package&#62;sendmail&#60;/package&#62;
   &#60;/packages&#62;
&#60;/software&#62;
....

	  </PRE
></TD
></TR
></TABLE
></DIV
><P
>&#13;	  You can install one base selection and additionally one or multiple 
	  add-on selections.
	</P
><P
>&#13;	  When installing from a CD-ROM, needed packages from other CD-ROMs
	  are installed after the initial boot of the
          system in the second installation phase. If you
	  are installing packages from multiple CD-ROMs, then
	  auto-installation has to be interrupted for switching the
	  CD-ROMs. In the case of NFS installation, all packages are
	  installed at first stage of the installation only if the NFS repository
	  is configured as a single medium.
	</P
><P
>&#13;	  It is often required, that a package should be installed in the
	  second phase, especially custom packages
	  which may contain scripts for configuring the system. This can be
	  done using the <I
CLASS="emphasis"
>post-packages</I
> resource.
	</P
></DIV
><DIV
CLASS="section"
><H2
CLASS="section"
><A
NAME="AEN602"
>4.5.2. Custom Package Selections</A
></H2
><P
>	
	  In addition to the pre-defined selections, you can create custom selections
	  by providing  a selection file in the selection
	  directory. (<TT
CLASS="filename"
>suse/setup/descr</TT
>) The selection files have a special format and any
	  additional selection file must conform to this format, otherwise
	  <ACRONYM
CLASS="acronym"
>YaST2</ACRONYM
> will not be able to read it.	  	  
	</P
><P
>&#13;	  As an example for the selection file, take a look at the files
	  available in the directory <TT
CLASS="filename"
>/suse/setup/descr/</TT
> on
	  the CD-ROMs.
	</P
><P
>&#13;	  After creating a selection file, you can add it to the configuration
	  as described earlier in this section.
	</P
><DIV
CLASS="example"
><A
NAME="AEN610"
></A
><P
><B
>Example 4-18. 
	    Customized Package selection
	  </B
></P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="screen"
>&#13;
....
&#60;software&#62;
   &#60;base&#62;My&#60;/base&#62;

&#60;/software&#62;
....

	  </PRE
></TD
></TR
></TABLE
></DIV
><P
>&#13;	  The file <TT
CLASS="filename"
>My.sel</TT
> should have the following format:
	</P
><DIV
CLASS="example"
><A
NAME="AEN615"
></A
><P
><B
>Example 4-19. 
	    Package selection file
	  </B
></P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="screen"
>&#13;
# SuSE-Linux-Package-Selection 3.0 -- (c) 2002 SuSE Linux AG
# generated on Sat Aug 10 17:55:42 UTC 2002

=Ver: 3.0

# name version release
=Sel: Kde-Desktop 8.1

# size in bytes (pkgsize instsize)
=Siz: 123456 1234567

# Summary
=Sum.cs: Prost≈?ed√≠ KDE
=Sum.de: KDE Desktop-Umgebung
=Sum.en: KDE Desktop Environment
=Sum.es: Entorno Gr√°fico KDE
=Sum.fr: Environnement de bureau KDE
=Sum.gl: KDE Desktop Environment
=Sum.hu: KDE grafikus munkak√∂rnyezet
=Sum.it: Ambiente Desktop KDE
=Sum.ja: KDE „??„,π„,Ø„??„??„?-Á'∞Â¢?
=Sum.lt: KDE Desktop Environment
=Sum.nl: KDE Desktop omgeving
=Sum.pt: KDE Desktop Environment
=Sum.sv: KDE Desktop Environment
=Sum.tr: KDE Desktop Environment

# selections required for installation
=Req: X11 Basis-Sound 
# conflicting selections
=Con: Minimal 
# category, add-on or base
=Cat: addon

# visibility of selection (for user interface)
=Vis: true

# list of packages to install
+Ins:
SDL
aalib
alsa

... 
smpppd
unixODBC
wvdial
-Ins:

# list of packages to install if given language is active

+Ins.cs:
kde3-i18n-cs
-Ins.cs:

+Ins.da:
kde3-i18n-da
-Ins.da:

+Ins.de:
kde3-i18n-de
-Ins.de:

... 


	  </PRE
></TD
></TR
></TABLE
></DIV
></DIV
><DIV
CLASS="section"
><H2
CLASS="section"
><A
NAME="AEN618"
>4.5.3. Installing additional and customized Packages</A
></H2
><P
>&#13;	  In addition to the packages available for installation on the CD-ROMs,
	  you can add external  packages including customized  kernels. Customized
	  kernel packages must be compatible to the  <I
CLASS="emphasis"
>SuSE</I
>  packages and must
	  install the kernel files to the same locations.
	</P
><P
>&#13;	  Unlike earlier versions, to install custom and external packages
	  there is no need for a special resource in the control
	  file. Instead you need to re-create the package database and update
	  it with any new packages or new package versions in the source repository.
	</P
><P
>&#13;	  A script is provided for this task which will query packages
	  available in the repository and create the required package
	  database.
	</P
><P
>&#13;	  Creating a new package database is only needed if new RPMs
	  (i.e. update RPMs) were added. To re-create the database, use the
	  <B
CLASS="command"
>/usr/bin/create_package_descr</B
>
	  command. For example, use this command line to create the package
	  database. (When creating the database, all languages will be reset to English).
	</P
><DIV
CLASS="example"
><A
NAME="AEN626"
></A
><P
><B
>Example 4-20. Creating package database</B
></P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="screen"
>&#13;cd /usr/local/CDs/LATEST/suse
create_package_descr  -d /usr/local/CDs/LATEST/suse 
	  </PRE
></TD
></TR
></TABLE
></DIV
><P
>&#13;	  In the above example, the directory
	  <TT
CLASS="filename"
>/usr/local/CDs/LATEST/suse</TT
> contains the architecture
	  dependent and independent packages, i.e. <I
CLASS="emphasis"
>noarch</I
> and <I
CLASS="emphasis"
>i586</I
>. 
	  This might look different on other architectures.
	</P
><P
>&#13;	  The advantage of this method is that you can keep an up-to-date
	  repository with fixed and updated package (i.e. from <I
CLASS="emphasis"
>SuSE</I
> FTP
	  server). Additionally this method  makes the creation of custom CD-ROMs easier.
	</P
></DIV
><DIV
CLASS="section"
><H2
CLASS="section"
><A
NAME="AEN635"
>4.5.4. Kernel packages</A
></H2
><P
>Kernel packages are not part of any selection. The required kernel
	  is determined during installation. If the kernel package is added to any selection
	  or to the individual package selection, installation will mostly fail due to conflicts.
	</P
><P
>&#13;	  To force the installation of a specific kernel, use the
	  <I
CLASS="emphasis"
>kernel</I
> property. The following is an example
	  forcing the installation of the default kernel. In this example this
	  kernel will be installed in any case, even if an SMP or other kernel
	  is required</P
><DIV
CLASS="example"
><A
NAME="AEN640"
></A
><P
><B
>Example 4-21. 
	    Package selection in control file
	  </B
></P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="screen"
>&#13;
....
&#60;software&#62;
   &#60;base&#62;Minimal&#60;/base&#62;
   &#60;kernel&#62;k_deflt&#60;/kernel&#62;
   &#60;addons  config:type="list"&#62;
        &#60;addon&#62;Kde&#60;/addon&#62;
   &#60;/addons&#62;
   &#60;packages  config:type="list"&#62;
        &#60;package&#62;apache&#60;/package&#62;
        &#60;package&#62;sendmail&#60;/package&#62;
   &#60;/packages&#62;
&#60;/software&#62;
....

	  </PRE
></TD
></TR
></TABLE
></DIV
></DIV
><DIV
CLASS="section"
><H2
CLASS="section"
><A
NAME="AEN643"
>4.5.5. Removing automatically selected packages</A
></H2
><P
>&#13;	  Some packages are selected automatically either because of a
	  dependency or because it available in a selection.
	</P
><P
>&#13;	  Removing such packages might break the system consistency and it is
	  not recommended to remove basic packages unless a replacement which
	  provides same services is provided. Best example for this case are
	  <ACRONYM
CLASS="acronym"
>MTA</ACRONYM
> packages. By default, <I
CLASS="emphasis"
>postfix</I
>
	  will be selected and installed. If you wish however to use another
	  <ACRONYM
CLASS="acronym"
>MTA</ACRONYM
> like <I
CLASS="emphasis"
>sendmail</I
>, then
	  postfix can be removed from the list of selected package using a list
	  in the software resource. The following example shows how this can be done:
	  
	</P
><DIV
CLASS="example"
><A
NAME="AEN651"
></A
><P
><B
>Example 4-22. 
	    Package selection in control file
	  </B
></P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="screen"
>&#13;
....
&#60;software&#62;
   &#60;addons  config:type="list"&#62;
        &#60;addon&#62;Kde&#60;/addon&#62;
   &#60;/addons&#62;
   &#60;base&#62;Minimal&#60;/base&#62;
   &#60;packages  config:type="list"&#62;
        &#60;package&#62;sendmail&#60;/package&#62;
   &#60;packages&#62;
   &#60;remove-packages  config:type="list"&#62;
        &#60;package&#62;postfix&#60;/package&#62;
   &#60;/remove-packages&#62;
&#60;/software&#62;
....

	  </PRE
></TD
></TR
></TABLE
></DIV
></DIV
></DIV
><DIV
CLASS="NAVFOOTER"
><HR
ALIGN="LEFT"
WIDTH="100%"><TABLE
SUMMARY="Footer navigation table"
WIDTH="100%"
BORDER="0"
CELLPADDING="0"
CELLSPACING="0"
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
><A
HREF="createprofile.partitioning.html"
ACCESSKEY="P"
>&#60;&#60;&#60; Previous</A
></TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="index.html"
ACCESSKEY="H"
>Home</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
><A
HREF="createprofile.services.html"
ACCESSKEY="N"
>Next &#62;&#62;&#62;</A
></TD
></TR
><TR
><TD
WIDTH="33%"
ALIGN="left"
VALIGN="top"
>Partitioning</TD
><TD
WIDTH="34%"
ALIGN="center"
VALIGN="top"
><A
HREF="configuration.html"
ACCESSKEY="U"
>Up</A
></TD
><TD
WIDTH="33%"
ALIGN="right"
VALIGN="top"
>Services and Run-levels</TD
></TR
></TABLE
></DIV
></BODY
></HTML
>